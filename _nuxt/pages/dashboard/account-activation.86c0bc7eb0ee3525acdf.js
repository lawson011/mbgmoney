webpackJsonp([42],{"7tlR":function(t,a,e){(t.exports=e("FZ+f")(!1)).push([t.i,".form-wrapper[data-v-151eae8a]{margin:7% 20% 6% 0}.btn-order[data-v-151eae8a]{margin-top:5%}.grey-btn-order[data-v-151eae8a]{margin-top:70px;text-align:center}.full-length[data-v-151eae8a]{width:100%;height:100%}.my-second-card[data-v-151eae8a]{padding:6% 5% 16% 7%}.my-spacer[data-v-151eae8a]{padding-left:4%}.small-text[data-v-151eae8a]{font-size:10px;font-weight:500}.big-text[data-v-151eae8a]{font-size:1.5em;font-weight:400}.biggest-text[data-v-151eae8a]{font-size:3.2em}.first-card[data-v-151eae8a]{border-radius:10px 10px 0 0}.card-shadow[data-v-151eae8a]{-webkit-box-shadow:0 7px 27px -7px rgba(0,0,0,.4);box-shadow:0 7px 27px -7px rgba(0,0,0,.4)}.height[data-v-151eae8a]{padding:200px 0}.logo-moneybag[data-v-151eae8a]{width:85%}.logo2[data-v-151eae8a]{width:80%;height:40px}.absolute[data-v-151eae8a]{position:absolute;right:0}.long-btn[data-v-151eae8a]{width:100%}.v-btn[data-v-151eae8a]{margin:0;text-transform:none}.round[data-v-151eae8a]{border-radius:5px}.btn-card[data-v-151eae8a]{width:280px;max-height:unset}.activation-card[data-v-151eae8a]{height:670px;width:1121px;margin:3% auto;border-radius:30px}.money-input[data-v-151eae8a]{width:320px}.logo[data-v-151eae8a]{width:165px}.email[data-v-151eae8a]{text-align:center!important;margin-top:15px;font-weight:700}",""])},"9t1P":function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n=e("Fw5p"),o=e("cmxG"),i=!1;var s=function(t){i||e("QjPR")},r=e("VU/8")(n.a,o.a,!1,s,"data-v-151eae8a",null);r.options.__file="pages/dashboard/account-activation.vue",a.default=r.exports},Fw5p:function(t,a,e){"use strict";var n=e("Dd8w"),o=e.n(n),i=e("bOdI"),s=e.n(i),r=e("NYxO"),d=e("YFWx"),l=e("qgVB"),c=e.n(l);a.a={head:{title:"Account Activation | MoneyBag.ng"},layout:"password",components:{paystack:c.a},data:function(){var t;return{paystackkey:"pk_test_c33057d4c4eca8c2a06bdb415ee62b33aa930777",email:"d.majekodunmi@nuture.tech",amount:1e4,moneyRules:[function(t){return!!t||"Oops! this field cant be left blank"},function(t){return t&&t>5||"Amount cant be less than 1000 naira"}],items:[{src:"/assets/animation3.gif"},{src:"/assets/animation2.gif"},{src:"/assets/animation1.gif"}],numbers:[{1:1},{2:2},{3:3},{4:4},{5:5},{6:6},{7:7},{0:0},{8:8},{9:9}],post_data:{amount:void 0,pan:void 0,exp_date:void 0,cvv:void 0,pin:""},otp_data:(t={otp:void 0,trans_ref:void 0,amount:void 0,payment_id:void 0},s()(t,"trans_ref",void 0),s()(t,"auth_data",void 0),t),mo_data:{mobile_number:void 0,payment_id:void 0,trans_ref:void 0},todialog:!1,modialog:!1,dialog:!1,dialog1:!1,display:"none",valid:!0,valid1:!0,cardPage:!0,loaderPage:!1,paymentPass:!1,paymentFail:!1,checkbox:!1}},asyncData:function(t){var a=t.store,e=t.redirect;if(a.state.user.account_activated)return e("/dashboard")},computed:o()({},Object(r.mapState)(["msg","user","auth_vis","to_details","mo_details"]),{sort:function(){return this.numbers.sort(function(){return Math.random()-.5})},reference:function(){for(var t="",a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=0;e<10;e++)t+=a.charAt(Math.floor(Math.random()*a.length));return t}}),methods:{callback:function(t){console.log(t)},close:function(){console.log("Payment closed")},clearText:function(){this.otp_data.otp=""},press:function(t){var a=t.target.innerText;this.post_data.pin.length<=3?("clear"===a&&(this.post_data.pin=""),"del"===a&&(this.post_data.pin=this.post_data.pin.slice(0,-1)),"clear"!==a&&"del"!==a&&(this.post_data.pin+=a)):this.post_data.pin.length>=3&&("clear"===a&&(this.post_data.pin=""),"del"===a&&(this.post_data.pin=this.post_data.pin.slice(0,-1)))},changeDisplay:function(){this.display="block"},popUpDialog:function(){var t=this;this.$refs.form.validate()&&(this.dialog1=!0,setTimeout(function(){t.dialog1=!1,t.dialog=!0},3e3))},makePayment:function(){var t=this;this.$refs.form1.validate()&&(this.cardPage=!1,this.loaderPage=!0,this.paymentPass=!1,this.paymentFail=!1,d.a.post("/transaction/pay_with_interswitch",this.post_data).then(function(a){if(!0===a.data.status)t.loaderPage=!1,t.cardPage=!0,t.$store.commit("addMsg",a.data.data),t.paymentPass=!0,t.paymentFail=!1,setTimeout(function(){t.moveToSetPin()},1500);else if("TO"===a.data.status)t.$store.commit("addTokenVal",a.data.data),t.dialog=!1,t.loaderPage=!1,t.cardPage=!1,t.todialog=!0;else if("MO"===a.data.status)t.dialog=!1,t.$store.commit("addMoTokenVal",a.data.data),t.todialog=!1,t.modialog=!0,t.dialog=!1;else if("SO"===a.data.status){t.loaderPage=!1,t.cardPage=!0,t.$store.commit("addMsg",a.data.data),t.$store.commit("addAuthVisa",a.data.post_data),t.paymentPass=!0,t.paymentFail=!1;var e=document.createElement("form");for(var n in document.body.appendChild(e),e.method="post",e.action=t.auth_vis.ACSUrl,t.auth_vis){var o=document.createElement("input");o.type="hidden",o.name=n,o.value=t.auth_vis[n],e.appendChild(o)}e.submit()}}).catch(function(a){t.loaderPage=!1,t.cardPage=!0,t.paymentFail=!0,t.paymentPass=!1,t.$store.commit("addMsg",a.response.data.data)}))},validateOtp:function(){var t=this;this.$refs.form2.validate()&&(this.dialog=!0,this.loaderPage=!0,this.otp_data.trans_ref=this.$store.state.to_details.transactionRef,this.otp_data.payment_id=this.$store.state.to_details.paymentId,this.otp_data.auth_data=this.$store.state.to_details.authData,this.otp_data.amount=this.post_data.amount,this.todialog=!1,this.cardPage=!1,d.a.post("/transaction/validate_otp_activation",this.otp_data).then(function(a){a.data.status&&(t.$store.commit("addMsg",a.data.data),t.loaderPage=!1,t.cardPage=!0,t.paymentPass=!0,t.paymentFail=!1,setTimeout(function(){t.moveToSetPin()},1500))}).catch(function(a){t.otp_data.otp="",t.loaderPage=!1,t.todialog=!1,t.modialog=!1,t.cardPage=!0,t.paymentFail=!0,t.paymentPass=!1,t.$store.commit("addMsg",a.response.data.data)}))},validateMoOtp:function(){var t=this;this.$refs.form3.validate()&&(this.dialog=!0,this.modialog=!1,this.loaderPage=!0,this.todialog=!1,this.cardPage=!1,this.mo_data.trans_ref=this.$store.state.mo_details.transactionRef,this.mo_data.payment_id=this.$store.state.mo_details.paymentId,d.a.post("/transaction/validate_mo_otp_activation",this.mo_data).then(function(a){"TO"===a.data.status&&(t.dialog=!1,t.loaderPage=!1,t.$store.commit("addTokenVal",a.data.data),t.todialog=!0,t.modialog=!1,t.dialog=!1)}).catch(function(a){t.dialog=!0,t.loaderPage=!1,t.todialog=!1,t.modialog=!1,t.cardPage=!0,t.paymentFail=!0,t.paymentPass=!1,t.$store.commit("addMsg",a.response.data.data)}))},moveToSetPin:function(){this.$router.push("/dashboard/set-token")}}}},QjPR:function(t,a,e){var n=e("7tlR");"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);e("rjj0")("1012c3e3",n,!1,{sourceMap:!1})},YFWx:function(t,a,e){"use strict";var n=e("mtWM"),o=e.n(n),i=e("lbHh"),s=e.n(i);o.a.defaults.baseURL="http://155.138.240.188/api/v1",o.a.defaults.headers.common.Authorization="JWT "+s.a.get("token"),o.a.defaults.headers.common["Content-Type"]="application/json",a.a=o.a},bOdI:function(t,a,e){"use strict";a.__esModule=!0;var n=function(t){return t&&t.__esModule?t:{default:t}}(e("C4MV"));a.default=function(t,a,e){return a in t?(0,n.default)(t,a,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[a]=e,t}},cmxG:function(t,a,e){"use strict";var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("section",{staticClass:"dashboard-bg"},[e("div",{staticClass:"front-container"},[e("v-card",{staticClass:"activation-card pr-5 pt-5 card-shadow  full-length white",attrs:{flat:""}},[e("v-flex",{staticClass:"pl-5"},[e("nuxt-link",{attrs:{to:"/"}},[e("span",[e("img",{staticClass:"logo hidden-md-and-down",attrs:{src:"/assets/logo.png",align:"middle",alt:"logo"}})])]),e("div",{staticClass:"title mb-1 mt-4"},[t._v("Account Activation")]),e("div",{staticClass:"caption"},[t._v("Before you start saving your funds, you need to activate your MoneyBag account.")])],1),e("v-dialog",{attrs:{persistent:"",width:"300"},model:{value:t.dialog1,callback:function(a){t.dialog1=a},expression:"dialog1"}},[e("img",{staticClass:"my-loader",attrs:{src:"/assets/loader2.gif",alt:""}})]),e("v-layout",{attrs:{row:"",wrap:""}},[e("v-flex",{attrs:{md6:""}},[e("v-carousel",{staticClass:"elevation-0",attrs:{lazy:"","hide-delimiters":"","hide-controls":""}},t._l(t.items,function(t,a){return e("v-carousel-item",{key:a,attrs:{src:t.src,light:""}})}),1)],1),e("v-flex",{attrs:{md6:""}},[e("v-card",{staticClass:"px-4",attrs:{flat:""}},[e("div",[t._v("To activate your account, kindly save a minimum of ₦1000 to your MoneyBag savings account. Please know that this deposit will be your savings account minimum threshold.")]),e("p",{staticClass:"body-2 mt-4"},[t._v("How much will you like to deposit?")]),e("v-flex",{staticClass:"btn-order"},[e("v-form",{ref:"form",staticClass:"my-form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(a){t.valid=a},expression:"valid"}},[e("v-text-field",{staticClass:"money-input",attrs:{name:"input-1",rules:t.moneyRules,mask:"######",solo:"","return-masked-value":"",type:"number",prefix:"₦"},model:{value:t.post_data.amount,callback:function(a){t.$set(t.post_data,"amount",a)},expression:"post_data.amount"}},[e("div",{staticClass:"caption",attrs:{slot:"label"},slot:"label"},[t._v("Minimum of a 1000 naira")])]),e("p",{staticClass:"caption"},[t._v("Please know that you'd only do this once throughout the period of your savings.")]),e("v-checkbox",{attrs:{color:"red",rules:[function(t){return!!t||"This field is required!!"}]},model:{value:t.checkbox,callback:function(a){t.checkbox=a},expression:"checkbox"}},[e("div",{staticClass:"caption",attrs:{slot:"label"},slot:"label"},[t._v("I hereby confirm and approve this transaction and authorize MoneyBag.ng to save into my MoneyBag account.")])]),e("v-btn",{attrs:{disabled:!t.valid,color:"primary",large:""},on:{click:t.popUpDialog}},[t._v("MAKE PAYMENT")])],1),e("br"),e("v-btn",{attrs:{color:"primary",disabled:!t.valid}},[e("paystack",{attrs:{amount:t.amount,email:t.email,paystackkey:t.paystackkey,reference:t.reference,callback:t.callback,close:t.close,embed:!1}},[t._v(" \n           MAKE PAYMENT\n           ")])],1)],1),e("v-dialog",{attrs:{persistent:"","max-width":"310"},model:{value:t.dialog,callback:function(a){t.dialog=a},expression:"dialog"}},[e("v-card",{staticClass:"transparent elevation-0 py-3 mb-4"},[e("v-btn",{staticClass:"absolute",attrs:{icon:""},nativeOn:{click:function(a){t.dialog=!1}}},[e("v-icon",[t._v("fas fa-times-circle")])],1)],1),e("v-card",{staticClass:"py-2 round btn-card"},[e("v-flex",{staticClass:"py-2 px-3"},[e("v-layout",{attrs:{row:"",wrap:""}},[e("v-flex",{attrs:{xs5:""}},[e("img",{staticClass:"logo-moneybag",attrs:{src:"/assets/logo.png",alt:""}})]),e("v-flex",{attrs:{xs7:""}},[e("div",{staticClass:"title naira"},[t._v(t._s(Number(t.post_data.amount).toLocaleString({style:"currency"}))+".00")])])],1),e("div",{staticClass:"email"},[t._v(t._s(t.user.email))])],1),t._l(t.msg,function(a){return t.paymentFail?e("v-alert",{key:a,attrs:{type:"error",value:!0}},[t._v("\n          "+t._s(a)+"\n        \n      ")]):t._e()}),t._l(t.msg,function(a){return t.paymentPass?e("v-alert",{key:a,attrs:{type:"success",value:!0}},[t._v("\n          "+t._s(a)+"\n        \n      ")]):t._e()}),t.cardPage?e("v-card-text",{staticClass:"grey lighten-3"},[e("v-form",{ref:"form1",staticClass:"my-form",attrs:{"lazy-validation":""},model:{value:t.valid1,callback:function(a){t.valid1=a},expression:"valid1"}},[e("v-text-field",{attrs:{rules:[function(t){return!!t||"This field is required!!"}],mask:"#### #### #### #### #### ###","append-icon":"credit_card",solo:"",label:"Card Number"},model:{value:t.post_data.pan,callback:function(a){t.$set(t.post_data,"pan",a)},expression:"post_data.pan"}}),e("v-layout",{attrs:{row:"",wrap:""}},[e("v-flex",{attrs:{"pr-2":"",md6:""}},[e("v-text-field",{attrs:{rules:[function(t){return!!t||"This field is required!!"}],hint:"card expiry date",mask:"##/##","append-icon":"event",solo:"",label:"MM/YY"},model:{value:t.post_data.exp_date,callback:function(a){t.$set(t.post_data,"exp_date",a)},expression:"post_data.exp_date"}})],1),e("v-flex",{attrs:{"pl-2":"",md6:""}},[e("v-text-field",{attrs:{rules:[function(t){return!!t||"This field is required!!"}],mask:"###","append-icon":"lock",solo:"",label:"CVV"},on:{keyup:t.changeDisplay},model:{value:t.post_data.cvv,callback:function(a){t.$set(t.post_data,"cvv",a)},expression:"post_data.cvv"}})],1)],1),t.post_data.cvv?e("v-text-field",{style:{display:t.display},attrs:{disabled:"",type:"password",rules:[function(t){return!!t||"This field is required!!"}],"append-icon":"lock",solo:"",label:"Card Pin"},model:{value:t.post_data.pin,callback:function(a){t.$set(t.post_data,"pin",a)},expression:"post_data.pin"}}):t._e(),t.post_data.cvv?e("v-layout",{attrs:{row:"",wrap:""}},[t._l(t.sort,function(a){return e("v-flex",{key:a,attrs:{xs4:""}},t._l(a,function(a){return e("v-btn",{key:a,attrs:{small:""},on:{click:function(a){return t.press(a)}}},[t._v(t._s(a))])}),1)}),e("v-flex",{attrs:{xs4:""}},[e("v-btn",{attrs:{small:""},on:{click:t.press}},[t._v("del")])],1),e("v-flex",{attrs:{xs4:""}},[e("v-btn",{attrs:{small:""},on:{click:t.press}},[t._v("clear")])],1)],2):t._e(),e("v-flex",{attrs:{"mt-4":""}},[e("v-btn",{staticClass:"primary long-btn",attrs:{disabled:!t.valid1,dark:""},on:{click:t.makePayment}},[t._v("Pay")])],1)],1),e("v-flex",{attrs:{"mt-2":""}},[e("v-layout",{attrs:{"justify-center":"","align-center":"",row:"",wrap:""}},[e("v-flex",{attrs:{md5:""}},[e("v-divider")],1),e("v-flex",{attrs:{md2:""}},[e("div",{staticClass:"layout justify-center"},[t._v("OR")])]),e("v-flex",{attrs:{md5:""}},[e("v-divider")],1)],1)],1),e("v-flex",{attrs:{"mt-2":""}},[e("v-btn",{staticClass:"red long-btn",attrs:{dark:""},nativeOn:{click:function(a){t.dialog=!1}}},[t._v("Pay with nPay")])],1)],1):t._e(),t.loaderPage?e("v-flex",[e("v-card-media",{attrs:{src:"/assets/modalloder.gif",height:"200px"}}),e("h3",{staticClass:"bold primary--text text-md-center"},[t._v("Processing.....")])],1):t._e()],2),e("v-flex",{staticClass:"btn-card"},[e("div",{staticClass:"layout justify-center mt-3"},[e("img",{attrs:{src:"/assets/my-banks.png",alt:""}})])])],1)],1)],1)],1)],1)],1)])};n._withStripped=!0;var o={render:n,staticRenderFns:[]};a.a=o},qgVB:function(t,a,e){!function(a,e){t.exports=e()}(window,function(){return function(t){function a(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,a),o.l=!0,o.exports}var e={};return a.m=t,a.c=e,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},a.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)a.d(n,o,function(a){return t[a]}.bind(null,o));return n},a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,a){return Object.prototype.hasOwnProperty.call(t,a)},a.p="/dist/",a(a.s=4)}([function(t,a,e){"use strict";e.r(a);var n=e(1),o=e.n(n);for(var i in n)"default"!==i&&function(t){e.d(a,t,function(){return n[t]})}(i);a.default=o.a},function(t,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default={props:{embed:{type:Boolean,default:!1},paystackkey:{type:String,required:!0},email:{type:String,required:!0},amount:{type:Number,required:!0},reference:{type:String,required:!0},callback:{type:Function,required:!0,default:function(){}},close:{type:Function,required:!0,default:function(){}},text:{type:String,default:"Make Payment"},metadata:{type:Object,default:function(){return{}}},currency:{type:String,default:"NGN"},plan:{type:String,default:""},quantity:{type:String,default:""},subaccount:{type:String,default:""},transaction_charge:{type:Number,default:0},bearer:{type:String,default:""}},computed:{scriptLoaded:function(){var t=this;return new Promise(function(a){t.loadScript(function(){a()})})}},mounted:function(){this.embed&&this.payWithPaystack()},methods:{loadScript:function(t){var a=document.createElement("script");a.src="https://js.paystack.co/v1/inline.js",document.getElementsByTagName("head")[0].appendChild(a),a.readyState?a.onreadystatechange=function(){"loaded"!==a.readyState&&"complete"!==a.readyState||(a.onreadystatechange=null,t())}:a.onload=function(){t()}},payWithPaystack:function(){var t=this;this.scriptLoaded.then(function(){var a={key:t.paystackkey,email:t.email,amount:t.amount,ref:t.reference,callback:function(a){t.callback(a)},onClose:function(){t.close()},metadata:t.metadata,currency:t.currency,plan:t.plan,quantity:t.quantity,subaccount:t.subaccount,transaction_charge:t.transaction_charge,bearer:t.bearer};t.embed&&(a.container="paystackEmbedContainer");var e=window.PaystackPop.setup(a);t.embed||e.openIframe()})}}}},function(t,a,e){"use strict";var n=function(){var t=this._self._c||this.$createElement;return this.embed?t("div",{attrs:{id:"paystackEmbedContainer"}}):t("button",{staticClass:"payButton",domProps:{textContent:this._s(this.text)},on:{click:this.payWithPaystack}})},o=[];e.d(a,"a",function(){return n}),e.d(a,"b",function(){return o})},function(t,a,e){"use strict";function n(t,a,e,n,o,i,s,r){var d,l="function"==typeof t?t.options:t;if(a&&(l.render=a,l.staticRenderFns=e,l._compiled=!0),n&&(l.functional=!0),i&&(l._scopeId="data-v-"+i),s?l._ssrRegister=d=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),o&&o.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(s)}:o&&(d=r?function(){o.call(this,this.$root.$options.shadowRoot)}:o),d)if(l.functional){l._injectStyles=d;var c=l.render;l.render=function(t,a){return d.call(a),c(t,a)}}else{var u=l.beforeCreate;l.beforeCreate=u?[].concat(u,d):[d]}return{exports:t,options:l}}e.d(a,"a",function(){return n})},function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n,o=(n=e(5))&&n.__esModule?n:{default:n};a.default=o.default},function(t,a,e){"use strict";e.r(a);var n=e(2),o=e(0);for(var i in o)"default"!==i&&function(t){e.d(a,t,function(){return o[t]})}(i);var s=e(3),r=Object(s.a)(o.default,n.a,n.b,!1,null,null,null);r.options.__file="paystack.vue",a.default=r.exports}])})}});