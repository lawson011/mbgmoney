webpackJsonp([48],{"2z4j":function(a,t,e){"use strict";var n=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("section",[e("v-parallax",{attrs:{src:"/assets/bank-parallax.jpg",height:"300"}},[e("div",{staticClass:"parallax-text"},[e("h2",[a._v("Hi there, "+a._s(a.user.first_name))]),e("p",[a._v("This feature allows you to provide new and edit existing bank information.")])]),e("div",{staticClass:"parallax-btn"},[e("v-dialog",{attrs:{persistent:"",width:"300"},model:{value:a.dialog4,callback:function(t){a.dialog4=t},expression:"dialog4"}},[e("img",{staticClass:"my-loader",attrs:{src:"/assets/loader2.gif",alt:""}}),e("h1",{staticClass:"white--text loader-text"},[a._v("Validating Records..")])]),e("v-dialog",{attrs:{"max-width":"430px"},model:{value:a.dialog,callback:function(t){a.dialog=t},expression:"dialog"}},[e("v-card",{staticClass:"transparent elevation-0 py-3 mb-3"},[e("v-btn",{staticClass:"absolute",attrs:{icon:""},nativeOn:{click:function(t){a.dialog=!1}}},[e("v-icon",[a._v("fas fa-times-circle")])],1)],1),e("v-btn",{attrs:{slot:"activator",color:"primary",dark:"",large:""},slot:"activator"},[a._v("ADD A NEW BANK ACCOUNT")]),a.bankMsgPass?e("v-alert",{attrs:{type:"success",value:!0}},[a._v("\n          "+a._s(a.msg)+"\n\n        ")]):a._e(),a.bankMsgFail?e("v-alert",{attrs:{type:"error",value:!0}},[a._v("\n          "+a._s(a.msg)+"\n\n        ")]):a._e(),e("v-card",{staticClass:"card-curved-edges my-bank py-3"},[e("v-card-title",{staticClass:"layout justify-center"},[e("span",{staticClass:"body-2"},[a._v(a._s(a.formTitle))])]),e("v-card-text",[e("v-container",{attrs:{"grid-list-md":""}},[e("v-layout",[e("v-form",{ref:"form1",attrs:{"lazy-validation":""},model:{value:a.valid1,callback:function(t){a.valid1=t},expression:"valid1"}},[e("v-flex",[e("v-select",{attrs:{solo:"",items:a.bank,"item-text":"bank_name","item-value":"id",rules:[function(a){return!!a||"kindly select a bank"}],label:"Select Bank"},model:{value:a.post_data.bank_name,callback:function(t){a.$set(a.post_data,"bank_name",t)},expression:"post_data.bank_name"}})],1),e("v-flex",[e("v-select",{attrs:{solo:"",items:a.account_type,"item-text":"title","item-value":"id",rules:[function(a){return!!a||"kindly select your account type"}],label:"Select Account type"},model:{value:a.post_data.account_type,callback:function(t){a.$set(a.post_data,"account_type",t)},expression:"post_data.account_type"}})],1),e("v-flex",[e("v-text-field",{attrs:{solo:"",rules:a.accountNumberRules,type:"number",label:"Account Number"},model:{value:a.post_data.account_number,callback:function(t){a.$set(a.post_data,"account_number",t)},expression:"post_data.account_number"}})],1),a.showFullName?e("v-flex",[e("v-text-field",{attrs:{disabled:"",solo:"",label:"Account Name"},model:{value:a.post_data.account_name,callback:function(t){a.$set(a.post_data,"account_name",t)},expression:"post_data.account_name"}})],1):a._e()],1)],1)],1)],1),e("v-card-actions",{staticClass:"pl-4"},[e("v-btn",{staticClass:"ml-3",nativeOn:{click:function(t){a.dialog=!1}}},[a._v("Cancel")]),a.valBank?e("v-btn",{staticClass:"primary",attrs:{dark:"",disabled:!a.valid1},on:{click:a.validateBank}},[a._v("Validate")]):a._e(),a.addRec?e("v-btn",{attrs:{color:"primary",flat:""},on:{click:a.addBank}},[a._v("Add Bank")]):a._e()],1)],1)],1)],1)]),e("section",{staticClass:"scoped-container"},[e("v-flex",[a._l(a.msg,function(t){return a.bankChangePass?e("v-alert",{key:t,attrs:{type:"success",value:!0}},[a._v("\n        "+a._s(t)+"\n\n      ")]):a._e()}),a._l(a.msg,function(t){return a.bankChangeFail?e("v-alert",{key:t,attrs:{type:"error",value:!0}},[a._v("\n        "+a._s(t)+"\n\n      ")]):a._e()}),e("v-layout",[e("v-flex",{attrs:{"px-2":"","mt-4":""}},[e("v-data-table",{staticClass:"elevation-1",attrs:{headers:a.headers,items:a.userbank_detail},scopedSlots:a._u([{key:"items",fn:function(t){return[e("td",[a._v(" "+a._s(t.item.bank_name))]),e("td",[e("img",{attrs:{width:"50px",src:a.url+t.item.bank_image,alt:""}})]),e("td",[a._v(a._s(t.item.account_number))]),e("td",[a._v(a._s(t.item.account_name))]),e("td",{staticClass:"justify-center layout px-0"},[t.item.is_default?e("v-btn",{staticClass:"caption green green--text",attrs:{small:"",outline:"",flat:"",disabled:""}},[a._v("default bank")]):a._e(),t.item.is_default?a._e():e("v-btn",{staticClass:"caption primary primary--text",attrs:{value:t.item.id,small:"",outline:""},on:{click:function(t){return a.popUpDialog(t)}}},[a._v("make default")]),e("v-dialog",{attrs:{"max-width":"400px"},model:{value:a.dialog2,callback:function(t){a.dialog2=t},expression:"dialog2"}},[e("v-card",{staticClass:"card-curved-edges px-4 py-5"},[a._l(a.pin_msg,function(t){return a.pinPass?e("v-alert",{key:t,attrs:{type:"success",value:!0}},[a._v("\n                        "+a._s(t)+"\n                      \n                    ")]):a._e()}),a._l(a.pin_msg,function(t){return a.pinFail?e("v-alert",{key:t,attrs:{type:"error",value:!0}},[a._v("\n                        "+a._s(t)+"\n                      \n                    ")]):a._e()}),e("div",{staticClass:"mb-4"},[a._v("\n                      To make this selection your default bank, kindly enter your 4 digit pin below to confirm.\n                    ")]),e("v-form",{ref:"form",staticClass:"my-form",attrs:{"lazy-validation":""},on:{keyup:function(t){return!t.type.indexOf("key")&&a._k(t.keyCode,"enter",13,t.key,"Enter")?null:a.checkPins(t)}},model:{value:a.valid,callback:function(t){a.valid=t},expression:"valid"}},[e("v-text-field",{attrs:{mask:"####",rules:a.newPinRules,width:"200",label:"Enter your 4 digit pin",type:"password",max:"4"},model:{value:a.pin_data.pin,callback:function(t){a.$set(a.pin_data,"pin",t)},expression:"pin_data.pin"}}),e("div",{staticClass:"mt-3"},[e("v-btn",{staticClass:"primary",attrs:{disabled:!a.valid},on:{click:a.checkPins}},[a._v("Submit")])],1)],1)],2)],1)],1)]}}])},[e("v-flex",{attrs:{slot:"no-data"},slot:"no-data"},[e("v-btn",{attrs:{color:"primary"},on:{click:a.initialize}},[a._v("\n                Reset")])],1)],1)],1)],1)],2)],1)],1)};n._withStripped=!0;var s={render:n,staticRenderFns:[]};t.a=s},"6/a2":function(a,t,e){(a.exports=e("FZ+f")(!1)).push([a.i,".parallax-text[data-v-dfcc7df6]{max-width:500px;margin-left:4%}.parallax-btn[data-v-dfcc7df6]{margin-left:4%}.scoped-container[data-v-dfcc7df6]{margin:2% auto;padding:0 20px;max-width:1160px}.atm[data-v-dfcc7df6]{width:250px}.v-btn[data-v-dfcc7df6]{margin-left:0}.my-bank[data-v-dfcc7df6]{width:400px}.absolute[data-v-dfcc7df6]{position:absolute;right:0}",""])},ATbY:function(a,t,e){var n=e("6/a2");"string"==typeof n&&(n=[[a.i,n,""]]),n.locals&&(a.exports=n.locals);e("rjj0")("15e052c9",n,!1,{sourceMap:!1})},AeYJ:function(a,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=e("PSUp"),s=e("2z4j"),i=!1;var l=function(a){i||e("ATbY")},o=e("VU/8")(n.a,s.a,!1,l,"data-v-dfcc7df6",null);o.options.__file="pages/dashboard/bank-details.vue",t.default=o.exports},PSUp:function(a,t,e){"use strict";var n=e("Dd8w"),s=e.n(n),i=e("NYxO"),l=e("YFWx");t.a={head:{title:"Bank Details | MoneyBag.ng"},layout:"user",data:function(){return{valid:!0,valid1:!0,newPinRules:[function(a){return!!a||"This field is required!!"}],accountNumberRules:[function(a){return!!a||"this field cant be left empty"},function(a){return a&&a.length<=10||"account number cant be more than 10 digits"}],viewDialog:!1,dialog2:!1,pinPass:!1,pinFail:!1,pin_data:{pin:""},bank_data:{bank_id:void 0},dialog:!1,dialog4:!1,bankMsgPass:!1,bankMsgFail:!1,bankChangePass:!1,showFullName:!1,addRec:!1,valBank:!0,bankChangeFail:!1,headers:[{text:"BANK NAME",align:"left",value:"bankName"},{text:"BANK LOGO",align:"left",value:"accountName"},{text:"ACCOUNT NUMBER",align:"left",value:"accountNumber"},{text:"ACCOUNT NAME",align:"left",value:"accountName"},{text:"Actions",align:"left",value:"userId",sortable:!1}],editedIndex:-1,editedItem:{bankName:"",accountNumber:"",accountName:"",bankVerificationNumber:"",accountType:""},defaultItem:{bankName:"",accountNumber:"",accountName:"",bankVerificationNumber:"",accountType:""},post_data:{bank_name:"",account_type:"",account_name:"",account_number:""}}},fetch:function(a){var t=a.store;a.params;l.a.get("/bank_detail/banks").then(function(a){t.commit("addBank",a.data)}),l.a.get("/bank_detail/account_type").then(function(a){t.commit("addAccountType",a.data)}),l.a.get("/bank_detail/user_bank").then(function(a){t.commit("addUserBankDetail",a.data.data)})},computed:s()({},Object(i.mapState)(["bank","user","url","userbank_detail","account_type","pin_msg","msg"])),methods:{updateBankStore:function(){var a=this;l.a.get("/bank_detail/user_bank").then(function(t){a.$store.commit("addUserBankDetail",t.data.data)})},addBank:function(){var a=this;l.a.post("/bank_detail/user_bank",this.post_data).then(function(t){t.data.status&&(a.updateBankStore(),a.dialog=!1,a.post_data.account_name=void 0,a.post_data.account_type=void 0,a.post_data.account_number=void 0,a.valBank=!0,a.addRec=!1)})},validateBank:function(){var a=this;this.$refs.form1.validate()&&(this.dialog4=!0,l.a.post("/bank_detail/validate_bank",this.post_data).then(function(t){t.data.status&&(a.$store.commit("addMsg",t.data.message),a.bankMsgPass=!0,a.bankMsgFail=!1,a.dialog4=!1,a.showFullName=!0,a.post_data.account_name=t.data.data.full_name,a.addRec=!0,a.valBank=!1)}).catch(function(t){a.dialog4=!1,a.$store.commit("addMsg",t.response.data.message),a.bankMsgPass=!1,a.bankMsgFail=!0}))},popUpDialog:function(a){this.bank_data.bank_id=a.target.value,console.log(this.bank_data.bank_id),this.dialog2=!0},checkPins:function(){var a=this;l.a.post("/user/check_pin",this.pin_data).then(function(t){t.data.status&&(a.$store.commit("addPinMsg",t.data.data),a.pinPass=!0,a.pinFail=!1,setTimeout(function(){a.dialog2=!1,a.pinPass=!1,a.pin_data.pin=null},1500),a.changeDefault())}).catch(function(t){a.$store.commit("addPinMsg",t.response.data.data),a.pinFail=!0,a.pinPass=!1})},changeDefault:function(){var a=this;l.a.post("/bank_detail/change_bank",this.bank_data).then(function(t){t.data.status&&(a.$store.commit("addMsg",t.data.data),a.bankChangePass=!0,a.bankChangeFail=!1,a.updateBankStore())}).catch(function(t){a.bankChangeFail=!0,a.bankChangePass=!1,a.$store.commit("addMsg",t.response.data.data)})}}}},YFWx:function(a,t,e){"use strict";var n=e("mtWM"),s=e.n(n),i=e("lbHh"),l=e.n(i);s.a.defaults.baseURL="http://155.138.240.188/api/v1",s.a.defaults.headers.common.Authorization="JWT "+l.a.get("token"),s.a.defaults.headers.common["Content-Type"]="application/json",t.a=s.a}});