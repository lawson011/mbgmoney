webpackJsonp([46],{"6aLt":function(a,s,t){var e=t("x9AU");"string"==typeof e&&(e=[[a.i,e,""]]),e.locals&&(a.exports=e.locals);t("rjj0")("ddf38ac4",e,!1,{sourceMap:!1})},9830:function(a,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var e=t("qRts"),o=t("j5vZ"),r=!1;var n=function(a){r||t("6aLt")},d=t("VU/8")(e.a,o.a,!1,n,"data-v-36367168",null);d.options.__file="pages/dashboard/change-password-default.vue",s.default=d.exports},YFWx:function(a,s,t){"use strict";var e=t("mtWM"),o=t.n(e),r=t("lbHh"),n=t.n(r);o.a.defaults.baseURL="http://155.138.240.188/api/v1",o.a.defaults.headers.common.Authorization="JWT "+n.a.get("token"),o.a.defaults.headers.common["Content-Type"]="application/json",s.a=o.a},j5vZ:function(a,s,t){"use strict";var e=function(){var a=this,s=a.$createElement,t=a._self._c||s;return t("section",{staticClass:"dashboard-bg"},[t("div",{staticClass:"front-container"},[t("v-card",{staticClass:"my-form secondary"},[t("v-dialog",{attrs:{persistent:"",width:"300"},model:{value:a.dialog,callback:function(s){a.dialog=s},expression:"dialog"}},[t("img",{staticClass:"my-loader",attrs:{src:"/assets/loader2.gif",alt:""}}),t("h1",{staticClass:"white--text"},[a._v("Processing...")])]),t("v-layout",{attrs:{row:"",wrap:""}},[t("v-flex",{staticClass:"hidden-sm-and-down",attrs:{md6:"",xs12:""}},[t("nuxt-link",{attrs:{to:"/"}},[t("span",[t("img",{staticClass:"logo hidden-md-and-down",attrs:{src:"/assets/logo.png",align:"middle",alt:"logo"}})])]),t("v-layout",{attrs:{"mt-5":""}},[t("v-avatar",{attrs:{size:"350"}},[t("img",{attrs:{src:"/assets/change-password.gif",alt:""}})])],1)],1),t("v-flex",{staticClass:"mt-5 hidden-md-and-up",attrs:{md6:"",xs12:""}},[t("v-layout",{attrs:{"justify-center":""}},[t("v-avatar",{staticClass:"art-image",attrs:{size:"180"}},[t("img",{attrs:{src:"/assets/change-password.gif",alt:""}})])],1)],1),t("v-flex",{attrs:{md6:"",xs12:""}},[t("v-form",{ref:"form",staticClass:"mx-5",attrs:{"lazy-validation":""},model:{value:a.valid,callback:function(s){a.valid=s},expression:"valid"}},[t("v-card-title",{staticClass:"title justify-center"},[t("strong",[a._v("Change Password")])]),t("div",{staticClass:"mb-5 caption instruction"},[a._v("Help us better secure your account by changing your default password to a memorisable one known only by you. "),t("br"),t("strong",[a._v("Kindly check your email for your default password.")])]),a._l(a.msg,function(s){return a.passwordChangeFail?t("v-alert",{key:s.id,attrs:{type:"error",value:!0}},[a._v("\n                "+a._s(s)+"\n              \n            ")]):a._e()}),a._l(a.msg,function(s){return a.passwordChangePass?t("v-alert",{key:s.id,attrs:{type:"success",value:!0}},[a._v("\n                "+a._s(s)+"\n              \n            ")]):a._e()}),t("section",{staticClass:"bg"},[t("v-text-field",{attrs:{type:"password",name:"input-1",solo:"",rules:a.oldPasswordRules,required:"",label:"Kindly enter the password you currently use on your account. hint** check your email for password"},model:{value:a.post_data.old_password,callback:function(s){a.$set(a.post_data,"old_password",s)},expression:"post_data.old_password"}},[t("div",{staticClass:"caption",attrs:{slot:"label"},slot:"label"},[a._v("Enter your default password")])]),t("v-text-field",{attrs:{type:"password",name:"input-1",solo:"",rules:a.newPasswordRules,required:"",label:"Kindly enter the new password you wish to change to"},model:{value:a.post_data.new_password,callback:function(s){a.$set(a.post_data,"new_password",s)},expression:"post_data.new_password"}},[t("div",{staticClass:"caption",attrs:{slot:"label"},slot:"label"},[a._v("Kindly enter the new password you wish to change to")])]),t("v-text-field",{attrs:{type:"password",name:"input-1",solo:"",rules:a.newPasswordRules,required:"",label:"Kindly enter the new password you wish to change to one more time"},model:{value:a.post_data.confirm_password,callback:function(s){a.$set(a.post_data,"confirm_password",s)},expression:"post_data.confirm_password"}},[t("div",{staticClass:"caption",attrs:{slot:"label"},slot:"label"},[a._v("Kindly enter the new password one more time")])])],1),t("v-card-actions",{staticClass:"justify-center mt-4"},[t("v-btn",{staticClass:"primary login-btn",attrs:{large:"",round:"",disabled:!a.valid},on:{click:a.updatePassowrd}},[a._v("\n              update password\n            ")])],1)],2)],1)],1)],1)],1)])};e._withStripped=!0;var o={render:e,staticRenderFns:[]};s.a=o},qRts:function(a,s,t){"use strict";var e=t("Dd8w"),o=t.n(e),r=t("YFWx"),n=t("NYxO");s.a={head:{title:"Change Password| MoneyBag.ng"},layout:"password",data:function(){return{valid:!0,oldPasswordRules:[function(a){return!!a||"old password is required"}],newPasswordRules:[function(a){return!!a||"Oops! you forgot to input your new password"},function(a){return a&&a.length>=6||"new password cant be less than 6 characters"}],loader:null,dialog:!1,loading2:!1,loading:!1,checkbox:!1,passwordChangeFail:!1,passwordChangePass:!1,post_data:{old_password:"",new_password:"",confirm_password:""}}},computed:o()({},Object(n.mapState)(["user","msg","url"])),watch:{loader:function(){var a=this,s=this.loader;this[s]=!this[s],setTimeout(function(){a[s]=!1},2e3),this.loader=null}},updated:function(){var a=this;(this.passwordChangeFail||this.passwordChangePass)&&setTimeout(function(){a.passwordChangeFail=!1,a.passwordChangePass=!1},5e3)},methods:{updateStore:function(){var a=this;r.a.get("/user/my_profile").then(function(s){a.$store.commit("addUser",s.data.data[0])}).catch(function(a){console.log(a.response)})},updatePassowrd:function(){var a=this;this.$refs.form.validate()&&r.a.put("/user/change_password",this.post_data).then(function(s){s.data.status&&(a.$refs.form.reset(),a.$store.commit("addMsg",s.data.data),a.updateStore(),r.a.patch("/user/view_profile"+a.user.user_id+"/",{password_changed:!0}).then(function(s){a.updateStore(),200===s.status&&(a.dialog=!1,a.passwordChangePass=!0,a.passwordChangeFail=!1)}),a.$router.push("/dashboard/account-activation"))}).catch(function(s){console.log(s.response.data),a.$store.commit("addMsg",s.response.data.data),a.passwordChangePass=!1,a.passwordChangeFail=!0})}}}},x9AU:function(a,s,t){var e=t("kxFB");(a.exports=t("FZ+f")(!1)).push([a.i,".my-form[data-v-36367168]{margin:5% 10%;padding:5% 5% 5% 7%;border-radius:20px}@media only screen and (max-width:375px){.my-form[data-v-36367168]{padding:10% 0;margin:5% 2%}}@media only screen and (max-width:550px){.my-form[data-v-36367168]{padding:10% 0;margin:5%}}.my-input[data-v-36367168]{border-radius:25px}.login-btn[data-v-36367168]{padding:0 50%}.instruction[data-v-36367168]{text-align:center}.logo[data-v-36367168]{width:165px}.bg[data-v-36367168]{background:url("+e(t("sP5Z"))+") repeat;background-size:95%}",""])}});