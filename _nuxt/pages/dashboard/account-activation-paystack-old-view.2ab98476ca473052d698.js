webpackJsonp([41],{"3NQS":function(t,e,a){"use strict";var n=a("ysA8"),o=a("mtWM"),i=a.n(o),s=a("YFWx");e.a={layout:"user",components:{paystack:n.a},data:function(){return{moneyRules:[function(t){return!!t||"Oops! this field cant be left blank"},function(t){return t&&t>999||"Amount cant be less than 1000 naira"}],items:[{src:"/assets/animation3.gif"},{src:"/assets/animation2.gif"},{src:"/assets/animation1.gif"}],paystackBtnText:"Pay Me, My Money",paystackkey:"pk_test_8e22613c04a18f06546ef813ec653010606a450e",secretKey:"sk_test_d96e0dccb1a0d24e8b176950e5407397ab358fad",email:"ismail@test.com",amount:1e6,text:"FUND MY ACCOUNT",debitAmount:"",payStatusFail:!1,checkbox:!1,payStatusPass:!1,wrongInput:!1,liveButton:!1,greyButton:!0,valid:!0}},updated:function(){this.checkbox||(this.valid=!0),this.debitAmount||(this.valid=!0),this.debitAmount<=999&&(this.valid=!0),this.debitAmount>999&&this.checkbox&&(this.valid=!1)},computed:{amountValue:function(){if(""===this.debitAmount)this.liveButton=!1,this.greyButton=!0;else{if(!(this.debitAmount<1e3))return this.greyButton=!1,this.wrongInput=!1,this.liveButton=!0,this.debitAmount;this.wrongInput=!0,this.liveButton=!1,this.greyButton=!0}},reference:function(){for(var t="",e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=0;a<10;a++)t+=e.charAt(Math.floor(Math.random()*e.length));return t}},methods:{callback:function(t){console.log(t);var e=t.reference;this.saveToDb(e)},close:function(){console.log("Payment closed")},saveToDb:function(t){var e=this,a={Authorization:"Bearer "+this.secretKey},n="https://api.paystack.co/transaction/verify/"+t;i.a.get(n,{headers:a}).then(function(t){if(t.data.status){var a=t.data.data.authorization.authorization_code,n=t.data.data.reference,o=e.$store.state.user.user_id,i=e.debitAmount;s.a.patch("/user/my_profile"+o+"/",{authorisation_code:a,ref_number:n,savings_part_balance:i,savings_balance:i,account_activated:!0}).then(function(t){var a=t.data.status;if(console.log(t),a){s.a.post("/feature/auto_save/",{deposit_amount:1e3,timefield:25,frequency:1}).then(function(t){console.log(t)}).catch(function(t){console.log(t.response)}),e.$router.push("/dashboard/change-password-default")}}).catch(function(t){console.log(t.response)})}}).catch(function(t){console.log(t)})}}}},ErvT:function(t,e,a){(t.exports=a("FZ+f")(!1)).push([t.i,".form-wrapper[data-v-6e42ead5]{margin:7% 20% 6% 0}.btn-order[data-v-6e42ead5]{margin-top:5%}.grey-btn-order[data-v-6e42ead5]{margin-top:70px;text-align:center}.full-length[data-v-6e42ead5]{width:100%;height:100%}.my-second-card[data-v-6e42ead5]{padding:6% 5% 16% 7%}.my-spacer[data-v-6e42ead5]{padding-left:4%}.small-text[data-v-6e42ead5]{font-size:10px;font-weight:500}.big-text[data-v-6e42ead5]{font-size:1.5em;font-weight:400}.biggest-text[data-v-6e42ead5]{font-size:3.2em}.first-card[data-v-6e42ead5]{border-radius:10px 10px 0 0}.card-shadow[data-v-6e42ead5]{-webkit-box-shadow:0 7px 27px -7px rgba(0,0,0,.4);box-shadow:0 7px 27px -7px rgba(0,0,0,.4)}",""])},KMCX:function(t,e,a){"use strict";var n=a("//Fk"),o=a.n(n);e.a={layout:"user",props:{embed:{type:Boolean,default:!1},paystackkey:{type:String,default:"sk_test_d96e0dccb1a0d24e8b176950e5407397ab358fad",required:!0},email:{type:String,default:"infozvil@gmail.com",required:!0},amount:{type:Number,default:1e3,required:!0},liveButton:{type:Boolean,default:!1},valid:{type:Boolean,default:!1},reference:{type:String,required:!0},callback:{type:Function,required:!0,default:function(t){}},close:{type:Function,required:!0,default:function(){}},text:{type:String,default:"Make Payment"},metadata:{type:Object,default:function(){return{}}},currency:{type:String,default:"NGN"},plan:{type:String,default:""},quantity:{type:String,default:""},subaccount:{type:String,default:""},transaction_charge:{type:Number,default:0},bearer:{type:String,default:""}},computed:{scriptLoaded:function(){var t=this;return new o.a(function(e){t.loadScript(function(){e()})})}},mounted:function(){this.embed&&this.payWithPaystack()},methods:{loadScript:function(t){var e=document.createElement("script");e.src="https://js.paystack.co/v1/inline.js",document.getElementsByTagName("head")[0].appendChild(e),e.readyState?e.onreadystatechange=function(){"loaded"!==e.readyState&&"complete"!==e.readyState||(e.onreadystatechange=null,t())}:e.onload=function(){t()}},payWithPaystack:function(){var t=this,e=this.$store.state.user.email,a=this.reference;this.scriptLoaded.then(function(){var n={key:t.paystackkey,email:e,amount:Number(t.amount+"00"),ref:a,callback:function(e){t.callback(e)},onClose:function(){t.close()},metadata:t.metadata,currency:t.currency,plan:t.plan,quantity:t.quantity,subaccount:t.subaccount,transaction_charge:t.transaction_charge,bearer:t.bearer};t.embed&&(n.container="paystackEmbedContainer");var o=window.PaystackPop.setup(n);t.embed||o.openIframe()})}}}},VGJE:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("3NQS"),o=a("gVxM"),i=!1;var s=function(t){i||a("s3Be")},r=a("VU/8")(n.a,o.a,!1,s,"data-v-6e42ead5",null);r.options.__file="pages/dashboard/account-activation-paystack-old-view.vue",e.default=r.exports},YFWx:function(t,e,a){"use strict";var n=a("mtWM"),o=a.n(n),i=a("lbHh"),s=a.n(i);o.a.defaults.baseURL="http://155.138.240.188/api/v1",o.a.defaults.headers.common.Authorization="JWT "+s.a.get("token"),o.a.defaults.headers.common["Content-Type"]="application/json",e.a=o.a},gVxM:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{staticClass:"my-container"},[a("v-card",{staticClass:"pr-5 pt-4 card-shadow card-curved-edges full-length white",attrs:{flat:""}},[a("v-flex",{staticClass:"pl-5"},[a("div",{staticClass:"headline"},[t._v("Account Activation")]),a("div",[t._v("Before you start saving your funds, you need to activate your MoneyBag account")])]),a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{md6:""}},[a("v-carousel",{staticClass:"elevation-0",attrs:{lazy:"","hide-delimiters":"","hide-controls":""}},t._l(t.items,function(t,e){return a("v-carousel-item",{key:e,attrs:{src:t.src,light:""}})}),1)],1),a("v-flex",{attrs:{md6:""}},[a("v-card",{staticClass:"px-4 pt-5",attrs:{flat:""}},[a("div",[t._v("To activate your account, kindly save a minimum of ₦1000 to your MoneyBag savings account.")]),a("div",[t._v("Please know that this deposit will be your savings account minimum threshold")]),a("p",{staticClass:"title mt-4"},[t._v("How much will you like to deposit?")]),t.payStatusPass?a("v-alert",{attrs:{type:"success",value:!0}},[t._v("\n        Yeeey! Account Activated\n        ")]):t._e(),t.payStatusFail?a("v-alert",{attrs:{type:"error",value:!0}},[t._v("\n        Oops ... Something went wrong!\n        ")]):t._e(),t.wrongInput?a("v-alert",{attrs:{type:"error",value:!0}},[t._v("\n        Oops ... Amount cant be less than ₦1000\n        ")]):t._e(),a("v-flex",{staticClass:"btn-order"},[a("v-form",{ref:"form",staticClass:"my-form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-text-field",{attrs:{name:"input-1",rules:t.moneyRules,prefix:"₦",label:"minimum of a 1000 naira"},model:{value:t.debitAmount,callback:function(e){t.debitAmount=e},expression:"debitAmount"}})],1),a("p",{staticClass:"caption"},[t._v("Please know that you'd only do this once throughout the period of your savings.")])],1),a("v-checkbox",{attrs:{color:"red",rules:[function(t){return!!t||"This field is required!!"}],label:"I hereby confirm and approve this transaction and authorize MoneyBag.ng to save..."},model:{value:t.checkbox,callback:function(e){t.checkbox=e},expression:"checkbox"}}),a("paystack",{staticClass:"mt-3",attrs:{amount:t.debitAmount,email:t.email,paystackkey:t.paystackkey,reference:t.reference,callback:t.callback,close:t.close,embed:t.embed,text:t.text,valid:t.valid}})],1)],1)],1)],1)],1)};n._withStripped=!0;var o={render:n,staticRenderFns:[]};e.a=o},oWef:function(t,e,a){"use strict";var n=function(){var t=this.$createElement,e=this._self._c||t;return this.embed?e("div",{attrs:{id:"paystackEmbedContainer"}}):e("section",[e("v-btn",{staticClass:"primary payButton",attrs:{disabled:this.valid,large:""},domProps:{textContent:this._s(this.text)},on:{click:this.payWithPaystack}})],1)};n._withStripped=!0;var o={render:n,staticRenderFns:[]};e.a=o},s3Be:function(t,e,a){var n=a("ErvT");"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a("rjj0")("31da44ce",n,!1,{sourceMap:!1})},ysA8:function(t,e,a){"use strict";var n=a("KMCX"),o=a("oWef"),i=a("VU/8")(n.a,o.a,!1,null,null,null);i.options.__file="components/paystack.vue",e.a=i.exports}});