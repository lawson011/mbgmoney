webpackJsonp([44],{"2Kci":function(t,a,e){(t.exports=e("FZ+f")(!1)).push([t.i,".text[data-v-6a3184f1]{font-size:84%!important;color:#777;font-weight:600}.number[data-v-6a3184f1]{text-align:right;font-size:84%!important;color:#7d0c7d;font-weight:600}.head[data-v-6a3184f1]{font-size:20px!important;color:#777}.wrapper[data-v-6a3184f1]{text-align:center;padding:7% 15%}.search[data-v-6a3184f1]{height:60px}.my-btn[data-v-6a3184f1],.my-text-field[data-v-6a3184f1]{border-radius:0!important;margin:0!important}.my-btn[data-v-6a3184f1]{height:48px!important}.no-margin[data-v-6a3184f1]{-ms-flex-preferred-size:0;flex-basis:0}.holder[data-v-6a3184f1]{height:80px;padding:5% 15% 20%;margin:5% 0}.link-holder[data-v-6a3184f1]{height:80px;padding:5% 10% 20%;margin:5% 0}.my-caption[data-v-6a3184f1]{text-align:left}.link-holder2[data-v-6a3184f1]{height:80px;padding:5% 5% 20%;margin:5% 0}.animated-infinite[data-v-6a3184f1]{-webkit-animation-duration:2s;animation-duration:2s;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite}.card-shadow[data-v-6a3184f1]{-webkit-box-shadow:0 7px 27px -7px rgba(0,0,0,.4);box-shadow:0 7px 27px -7px rgba(0,0,0,.4)}",""])},YFWx:function(t,a,e){"use strict";var i=e("mtWM"),s=e.n(i),r=e("lbHh"),n=e.n(r);s.a.defaults.baseURL="http://155.138.240.188/api/v1",s.a.defaults.headers.common.Authorization="JWT "+n.a.get("token"),s.a.defaults.headers.common["Content-Type"]="application/json",a.a=s.a},ZcH8:function(t,a,e){"use strict";var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("v-layout",{staticClass:"my-container",attrs:{row:"",wrap:""}},[e("v-flex",{attrs:{md8:""}},[e("v-card",{staticClass:"wrapper card-curved-edges card-shadow"},[e("h2",{staticClass:"primary--text"},[t._v("Invite your family and friends and get cash back")]),e("div",{staticClass:"mygrey--text"},[t._v("Receive extra cash anytime an account is created using your MoneyBag.ng link.")]),e("v-dialog",{attrs:{persistent:"",width:"300"},model:{value:t.dialog,callback:function(a){t.dialog=a},expression:"dialog"}},[e("img",{staticClass:"my-loader",attrs:{src:"/assets/loader2.gif",alt:""}}),e("h1",{staticClass:"white--text loader-text"},[t._v("sending invite to "+t._s(t.post_data.referal_email)+"...")])]),t.emailSent?e("v-alert",{attrs:{type:"success",value:!0}},[t._v("\n        "+t._s(t.msg)+"\n      ")]):t._e(),t.emailFail?e("v-alert",{attrs:{type:"error",value:!0}},t._l(t.msg,function(a){return e("div",{key:a},t._l(a,function(a){return e("div",{key:a},[t._v("\n            "+t._s(a)+"\n          ")])}),0)}),0):t._e(),t.user.username?e("v-card",{staticClass:"card-curved-edges holder"},[e("v-form",{ref:"form",staticClass:"my-form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(a){t.valid=a},expression:"valid"}},[e("v-layout",{staticClass:"card-curved-edges search",attrs:{row:"",wrap:""}},[e("v-flex",{attrs:{md8:""}},[e("v-text-field",{staticClass:"my-text-field",attrs:{solo:"",type:"email",rules:t.emailRules},model:{value:t.post_data.referal_email,callback:function(a){t.$set(t.post_data,"referal_email",a)},expression:"post_data.referal_email"}},[e("div",{staticClass:"caption",attrs:{slot:"label"},slot:"label"},[t._v("Send an invite email to a friend")])])],1),e("v-flex",{staticClass:"no-margin",attrs:{md4:""}},[e("v-btn",{staticClass:"my-btn primary px-3",attrs:{disabled:!t.valid,large:""},on:{click:t.sendInvite}},[t._v("SEND")])],1)],1)],1),e("div",{staticClass:"caption my-caption"},[t._v("You can only send one invite at a time. ")])],1):t._e(),t.user.username?e("v-card",{staticClass:"card-curved-edges link-holder2",attrs:{flat:""}},[e("v-layout",{staticClass:"card-curved-edges search",attrs:{row:"",wrap:""}},[e("v-flex",{staticClass:"px-4",attrs:{md12:""}},[e("v-text-field",{ref:"link",staticClass:"my-text-field",attrs:{readonly:"",solo:"",label:t.copied?"Link copied":"Click to copy link",value:t.referal_list.site_url},on:{click:t.copy}})],1)],1)],1):t._e(),t.user.username?t._e():e("v-card",{staticClass:"card-curved-edges mt-2 mb-4 pa-5"},[e("div",{staticClass:"body-2 layout justify-center"},[t._v("Kindly set your username to activate your referral link to start earning on MoneyBag.ng")]),e("div",{staticClass:"mt-4 layout justify-center animated-infinite zoomIn"},[e("v-btn",{staticClass:"primary--text primary caption",attrs:{to:"/dashboard/edit-profile",outline:""}},[t._v("Click to Set Username")])],1)]),e("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.sent_email,"rows-per-page-items":t.perPage},scopedSlots:t._u([{key:"headerCell",fn:function(a){return[e("v-tooltip",{attrs:{bottom:""}},[e("span",{attrs:{slot:"activator"},slot:"activator"},[t._v("\n                  "+t._s(a.header.text)+"\n                ")]),e("span",{attrs:{slot:"headerCell"},slot:"headerCell"},[t._v("\n                  "+t._s(a.header.text)+"\n                ")])])]}},{key:"items",fn:function(a){return[e("td",{staticClass:"text-xs-left"},[t._v(t._s(a.item.referal_email))]),"invite accepted"===a.item.status?e("td",{staticClass:"green--text text-xs-left"},[t._v(t._s(a.item.status))]):e("td",{staticClass:"text-xs-left"},[t._v(t._s(a.item.status))])]}}])})],1)],1),e("v-flex",{attrs:{md4:"","pl-4":""}},[e("v-card",{staticClass:"card-curved-edges px-4 py-3"},[e("v-list",[e("div",{staticClass:"headline ml-2 mb-2 head"},[t._v("List of Referrals")]),t.referal_list.data.length>0?e("v-flex",t._l(t.referal_list.data,function(a){return e("v-list-tile",{key:a,attrs:{avatar:""}},[e("v-list-tile-avatar",{attrs:{size:"35"}},[e("img",{attrs:{src:t.url+"/media/"+a.image,alt:""}})]),e("v-list-tile-title",{staticClass:"text",domProps:{textContent:t._s(a.first_name+" "+a.last_name)}}),e("v-list-tile-title",{staticClass:"number",domProps:{textContent:t._s(a.gender)}})],1)}),1):e("v-flex",[t._v("\n          You have no referrals at this time\n        ")])],1)],1)],1)],1)};i._withStripped=!0;var s={render:i,staticRenderFns:[]};a.a=s},colx:function(t,a,e){var i=e("2Kci");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);e("rjj0")("2033e718",i,!1,{sourceMap:!1})},p4Te:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var i=e("sVBv"),s=e("ZcH8"),r=!1;var n=function(t){r||e("colx")},l=e("VU/8")(i.a,s.a,!1,n,"data-v-6a3184f1",null);l.options.__file="pages/dashboard/referral.vue",a.default=l.exports},sVBv:function(t,a,e){"use strict";var i=e("Dd8w"),s=e.n(i),r=e("NYxO"),n=e("YFWx");a.a={head:{title:"Referral | MoneyBag.ng"},meta:[{hid:"description",name:"description",content:"Refer your family and friends to MoneyBag.ng to benefit from mouthwatering interest rate"},{hid:"keywords",name:"keywords",content:"referral link, referral email, list of referral, referral invitation, referral status, give me money, returns on savings, financial service"}],computed:s()({},Object(r.mapState)(["user","url","referal_list","sent_email","msg"])),asyncData:function(t){var a=t.store;n.a.get("/user/referral").then(function(t){a.commit("addReferalList",t.data)}),n.a.get("/user/send_invite").then(function(t){a.commit("addEmailList",t.data.data)})},layout:"user",data:function(){return{copied:!1,dialog:!1,emailRules:[function(t){return!!t||"E-mail is required"},function(t){return/.+@.+/.test(t)||"E-mail must be valid"}],headers:[{text:"Email",sortable:!1,align:"left",value:"email"},{text:"status",sortable:!1,align:"left",value:"status"}],post_data:{referal_email:""},valid:!0,emailSent:!1,emailFail:!1,perPage:[5,10,20,50,100,500,1e3,2e3],invite:[{value:!1,email:"jeremytani@gmail.com",status:"Invite Sent"},{value:!1,email:"unclebanga@gmail.com",status:"Registered"},{value:!1,email:"bangalee@gmail.com",status:"Invite Sent"},{value:!1,email:"lascom.abbey@gmail.com",status:"Registered"},{value:!1,email:"jeremytani@gmail.com",status:"Invite Sent"},{value:!1,email:"unclebanga@gmail.com",status:"Registered"},{value:!1,email:"bangalee@gmail.com",status:"Invite Sent"},{value:!1,email:"lascom.abbey@gmail.com",status:"Registered"}]}},methods:{copy:function(){this.$refs.link.focus(),document.execCommand("selectAll",!1,null),this.copied=document.execCommand("copy")},updateStore:function(){var t=this;n.a.get("/user/send_invites").then(function(a){t.$store.commit("addEmailList",a.data.data)})},sendInvite:function(){var t=this;this.dialog=!0,this.$refs.form.validate()&&n.a.post("/user/send_invite",this.post_data).then(function(a){t.$refs.form.reset(),a.data.status&&(t.updateStore(),t.$store.commit("addMsg",a.data.message),t.dialog=!1,t.emailSent=!0,t.emailFail=!1)}).catch(function(a){t.dialog=!1,t.$store.commit("addMsg",a.response.data.data),t.emailFail=!0,t.emailSent=!1})}}}}});