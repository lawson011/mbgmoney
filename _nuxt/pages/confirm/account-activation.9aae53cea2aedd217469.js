webpackJsonp([50],{KvW0:function(t,a,e){"use strict";var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("section",{staticClass:"dashboard-bg"},[e("div",{staticClass:"front-container"},[e("v-card",{staticClass:"activation-card pr-5 pt-5 card-shadow  full-length white",attrs:{flat:""}},[e("v-flex",{staticClass:"pl-5"},[e("nuxt-link",{attrs:{to:"/"}},[e("span",[e("img",{staticClass:"logo hidden-md-and-down",attrs:{src:"/assets/logo.png",align:"middle",alt:"logo"}})])]),e("div",{staticClass:"title mb-1 mt-4"},[t._v("Account Activation")]),e("div",{staticClass:"caption"},[t._v("Before you start saving your funds, you need to activate your MoneyBag account.")])],1),e("v-dialog",{attrs:{persistent:"",width:"300"},model:{value:t.dialog1,callback:function(a){t.dialog1=a},expression:"dialog1"}},[e("img",{staticClass:"my-loader",attrs:{src:"/assets/loader2.gif",alt:""}})]),e("v-layout",{attrs:{row:"",wrap:""}},[e("v-flex",{attrs:{md6:""}},[e("v-carousel",{staticClass:"elevation-0",attrs:{lazy:"","hide-delimiters":"","hide-controls":""}},t._l(t.items,function(t,a){return e("v-carousel-item",{key:a,attrs:{src:t.src,light:""}})}),1)],1),e("v-flex",{attrs:{md6:""}},[e("v-card",{staticClass:"px-4",attrs:{flat:""}},[e("div",[t._v("To activate your account, kindly save a minimum of ₦1000 to your MoneyBag savings account. Please know that this deposit will be your savings account minimum threshold.")]),e("p",{staticClass:"body-2 mt-4"},[t._v("How much will you like to deposit?")]),e("v-flex",{staticClass:"btn-order"},[e("v-form",{ref:"form",staticClass:"my-form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(a){t.valid=a},expression:"valid"}},[e("v-text-field",{staticClass:"money-input",attrs:{name:"input-1",rules:t.moneyRules,mask:"######",solo:"","return-masked-value":"",type:"number",prefix:"₦"},model:{value:t.post_data.amount,callback:function(a){t.$set(t.post_data,"amount",a)},expression:"post_data.amount"}},[e("div",{staticClass:"caption",attrs:{slot:"label"},slot:"label"},[t._v("Minimum of a 1000 naira")])]),e("p",{staticClass:"caption"},[t._v("Please know that you'd only do this once throughout the period of your savings.")]),e("v-checkbox",{attrs:{color:"red",rules:[function(t){return!!t||"This field is required!!"}]},model:{value:t.checkbox,callback:function(a){t.checkbox=a},expression:"checkbox"}},[e("div",{staticClass:"caption",attrs:{slot:"label"},slot:"label"},[t._v("I hereby confirm and approve this transaction and authorize MoneyBag.ng to save into my MoneyBag account.")])]),e("v-btn",{attrs:{disabled:!t.valid,color:"primary",large:""},on:{click:t.popUpDialog}},[t._v("MAKE PAYMENT")])],1)],1),e("v-dialog",{attrs:{persistent:"","max-width":"310"},model:{value:t.dialog,callback:function(a){t.dialog=a},expression:"dialog"}},[e("v-card",{staticClass:"py-2 round btn-card"},[e("v-flex",{staticClass:"py-2 px-3"},[e("v-layout",{attrs:{row:"",wrap:""}},[e("v-flex",{attrs:{xs5:""}},[e("img",{staticClass:"logo-moneybag",attrs:{src:"/assets/logo.png",alt:""}})]),e("v-flex",{attrs:{xs7:""}},[e("div",{staticClass:"title naira"},[t._v(t._s(t.auth_vis.amount))])])],1),e("div",{staticClass:"email"},[t._v(t._s(t.user.email))])],1),t._l(t.msg,function(a){return t.paymentFail?e("v-alert",{key:a,attrs:{type:"error",value:!0}},[t._v("\n          "+t._s(a)+"\n        \n      ")]):t._e()}),t._l(t.msg,function(a){return t.paymentPass?e("v-alert",{key:a,attrs:{type:"success",value:!0}},[t._v("\n          "+t._s(a)+"\n        \n      ")]):t._e()}),t.cardPage?e("v-card-text",{staticClass:"grey lighten-3"},[e("v-form",{ref:"form1",staticClass:"my-form",attrs:{"lazy-validation":""},model:{value:t.valid1,callback:function(a){t.valid1=a},expression:"valid1"}},[e("v-text-field",{attrs:{rules:[function(t){return!!t||"This field is required!!"}],mask:"#### #### #### #### #### ###","append-icon":"credit_card",solo:"",label:"Card Number"},model:{value:t.post_data.pan,callback:function(a){t.$set(t.post_data,"pan",a)},expression:"post_data.pan"}}),e("v-layout",{attrs:{row:"",wrap:""}},[e("v-flex",{attrs:{"pr-2":"",md6:""}},[e("v-text-field",{attrs:{rules:[function(t){return!!t||"This field is required!!"}],hint:"card expiry date",mask:"##/##","append-icon":"event",solo:"",label:"MM/YY"},model:{value:t.post_data.exp_date,callback:function(a){t.$set(t.post_data,"exp_date",a)},expression:"post_data.exp_date"}})],1),e("v-flex",{attrs:{"pl-2":"",md6:""}},[e("v-text-field",{attrs:{rules:[function(t){return!!t||"This field is required!!"}],mask:"###","append-icon":"lock",solo:"",label:"CVV"},on:{keyup:t.changeDisplay},model:{value:t.post_data.cvv,callback:function(a){t.$set(t.post_data,"cvv",a)},expression:"post_data.cvv"}})],1)],1),t.post_data.cvv?e("v-text-field",{style:{display:t.display},attrs:{disabled:"",type:"password",rules:[function(t){return!!t||"This field is required!!"}],"append-icon":"lock",solo:"",label:"Card Pin"},model:{value:t.post_data.pin,callback:function(a){t.$set(t.post_data,"pin",a)},expression:"post_data.pin"}}):t._e(),t.post_data.cvv?e("v-layout",{attrs:{row:"",wrap:""}},[t._l(t.sort,function(a){return e("v-flex",{key:a,attrs:{xs4:""}},t._l(a,function(a){return e("v-btn",{key:a,attrs:{small:""},on:{click:function(a){return t.press(a)}}},[t._v(t._s(a))])}),1)}),e("v-flex",{attrs:{xs4:""}},[e("v-btn",{attrs:{small:""},on:{click:t.press}},[t._v("del")])],1),e("v-flex",{attrs:{xs4:""}},[e("v-btn",{attrs:{small:""},on:{click:t.press}},[t._v("clear")])],1)],2):t._e(),e("v-flex",{attrs:{"mt-4":""}},[e("v-btn",{staticClass:"primary long-btn",attrs:{disabled:!t.valid1,dark:""},on:{click:t.makePayment}},[t._v("Pay")])],1)],1),e("v-flex",{attrs:{"mt-2":""}},[e("v-layout",{attrs:{"justify-center":"","align-center":"",row:"",wrap:""}},[e("v-flex",{attrs:{md5:""}},[e("v-divider")],1),e("v-flex",{attrs:{md2:""}},[e("div",{staticClass:"layout justify-center"},[t._v("OR")])]),e("v-flex",{attrs:{md5:""}},[e("v-divider")],1)],1)],1),e("v-flex",{attrs:{"mt-2":""}},[e("v-btn",{staticClass:"red long-btn",attrs:{dark:""},nativeOn:{click:function(a){t.dialog=!1}}},[t._v("Pay with nPay")])],1)],1):t._e(),t.loaderPage?e("v-flex",[e("v-card-media",{attrs:{src:"/assets/modalloder.gif",height:"200px"}}),e("h3",{staticClass:"bold primary--text text-md-center"},[t._v("Confirming Transaction.....")])],1):t._e(),t.confirmPage?e("v-flex",[e("v-card-media",{attrs:{src:"/assets/confirm_loader.gif",height:"280px"}}),e("h3",{staticClass:"bold green--text text-md-center"},[t._v("Transaction Approved.")])],1):t._e(),t.errorPage?e("v-flex",[e("v-card-media",{attrs:{src:"/assets/error_catch.gif",height:"250px"}}),e("h3",{staticClass:"bold red--text text-md-center"},[t._v("An error occured in processing this transaction kindly contact support to proceed.")])],1):t._e()],2),e("v-flex",{staticClass:"btn-card"},[e("div",{staticClass:"layout justify-center mt-3"},[e("img",{attrs:{src:"/assets/my-banks.png",alt:""}})])])],1)],1)],1)],1)],1)],1)])};s._withStripped=!0;var i={render:s,staticRenderFns:[]};a.a=i},MwGd:function(t,a,e){(t.exports=e("FZ+f")(!1)).push([t.i,".form-wrapper[data-v-4b38651e]{margin:7% 20% 6% 0}.btn-order[data-v-4b38651e]{margin-top:5%}.grey-btn-order[data-v-4b38651e]{margin-top:70px;text-align:center}.full-length[data-v-4b38651e]{width:100%;height:100%}.my-second-card[data-v-4b38651e]{padding:6% 5% 16% 7%}.my-spacer[data-v-4b38651e]{padding-left:4%}.small-text[data-v-4b38651e]{font-size:10px;font-weight:500}.big-text[data-v-4b38651e]{font-size:1.5em;font-weight:400}.biggest-text[data-v-4b38651e]{font-size:3.2em}.first-card[data-v-4b38651e]{border-radius:10px 10px 0 0}.card-shadow[data-v-4b38651e]{-webkit-box-shadow:0 7px 27px -7px rgba(0,0,0,.4);box-shadow:0 7px 27px -7px rgba(0,0,0,.4)}.height[data-v-4b38651e]{padding:200px 0}.logo-moneybag[data-v-4b38651e]{width:85%}.logo2[data-v-4b38651e]{width:80%;height:40px}.absolute[data-v-4b38651e]{position:absolute;right:0}.long-btn[data-v-4b38651e]{width:100%}.v-btn[data-v-4b38651e]{margin:0;text-transform:none}.round[data-v-4b38651e]{border-radius:5px}.btn-card[data-v-4b38651e]{width:280px;max-height:unset}.activation-card[data-v-4b38651e]{height:670px;width:1121px;margin:3% auto;border-radius:30px}.money-input[data-v-4b38651e]{width:320px}.logo[data-v-4b38651e]{width:165px}.email[data-v-4b38651e]{text-align:center!important;margin-top:15px;font-weight:700}",""])},UUtA:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var s=e("ebjw"),i=e("KvW0"),o=!1;var n=function(t){o||e("Zl/G")},r=e("VU/8")(s.a,i.a,!1,n,"data-v-4b38651e",null);r.options.__file="pages/confirm/account-activation.vue",a.default=r.exports},YFWx:function(t,a,e){"use strict";var s=e("mtWM"),i=e.n(s),o=e("lbHh"),n=e.n(o);i.a.defaults.baseURL="http://155.138.240.188/api/v1",i.a.defaults.headers.common.Authorization="JWT "+n.a.get("token"),i.a.defaults.headers.common["Content-Type"]="application/json",a.a=i.a},"Zl/G":function(t,a,e){var s=e("MwGd");"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);e("rjj0")("3f59e914",s,!1,{sourceMap:!1})},ebjw:function(t,a,e){"use strict";var s=e("Dd8w"),i=e.n(s),o=e("NYxO"),n=e("YFWx");a.a={head:{title:"Account Activation | MoneyBag.ng"},layout:"password",data:function(){return{moneyRules:[function(t){return!!t||"Oops! this field cant be left blank"},function(t){return t&&t>999||"Amount cant be less than 1000 naira"}],items:[{src:"/assets/animation3.gif"},{src:"/assets/animation2.gif"},{src:"/assets/animation1.gif"}],numbers:[{1:1},{2:2},{3:3},{4:4},{5:5},{6:6},{7:7},{0:0},{8:8},{9:9}],post_data:{amount:void 0,pan:void 0,exp_date:void 0,cvv:void 0,pin:""},dialog:!0,dialog1:!1,display:"none",valid:!0,valid1:!0,cardPage:!1,loaderPage:!0,confirmPage:!1,errorPage:!1,paymentPass:!1,paymentFail:!1}},asyncData:function(t){var a=t.store,e=t.redirect;if(a.state.user.account_activated)return e("/dashboard")},created:function(){this.validate_otp()},computed:i()({},Object(o.mapState)(["msg","user","auth_vis"]),{sort:function(){return this.numbers.sort(function(){return Math.random()-.5})}}),methods:{validate_otp:function(){var t=this;n.a.post("/transaction/isw_confirm",this.auth_vis).then(function(a){t.loaderPage=!1,t.confirmPage=!0,setTimeout(function(){t.moveToSetPin()},1e3)}).catch(function(a){t.loaderPage=!1,t.confirmPage=!1,t.errorPage=!0})},press:function(t){var a=t.target.innerText;this.post_data.pin.length<=3?("clear"===a&&(this.post_data.pin=""),"del"===a&&(this.post_data.pin=this.post_data.pin.slice(0,-1)),"clear"!==a&&"del"!==a&&(this.post_data.pin+=a)):this.post_data.pin.length>=3&&("clear"===a&&(this.post_data.pin=""),"del"===a&&(this.post_data.pin=this.post_data.pin.slice(0,-1)))},changeDisplay:function(){this.display="block"},popUpDialog:function(){var t=this;this.$refs.form.validate()&&(this.dialog1=!0,setTimeout(function(){t.dialog1=!1,t.dialog=!0},3e3))},makePayment:function(){var t=this;console.log(this.post_data.pan),this.$refs.form1.validate()&&(this.cardPage=!1,this.loaderPage=!0,this.paymentPass=!1,this.paymentFail=!1,n.a.post("/transaction/pay_with_interswitch",this.post_data).then(function(a){if(!0===a.data.status)t.loaderPage=!1,t.cardPage=!0,t.$store.commit("addMsg",a.data.data),t.paymentPass=!0,t.paymentFail=!1,setTimeout(function(){t.moveToSetPin()},1500);else if("pending"===a.data.status){t.loaderPage=!1,t.cardPage=!0,t.$store.commit("addMsg",a.data.data),t.$store.commit("addAuthVisa",a.data.post_data),t.paymentPass=!0,t.paymentFail=!1;var e=document.createElement("form");for(var s in document.body.appendChild(e),e.method="post",e.action=t.auth_vis.ACSUrl,t.auth_vis){var i=document.createElement("input");i.type="hidden",i.name=s,i.value=t.auth_vis[s],e.appendChild(i)}e.submit()}}).catch(function(a){console.log(a.response.data),t.loaderPage=!1,t.cardPage=!0,t.paymentFail=!0,t.paymentPass=!1,t.$store.commit("addMsg",a.response.data.data)}))},moveToSetPin:function(){this.$router.push("/dashboard/set-token")}}}}});